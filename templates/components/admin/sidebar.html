{% load static %}
<aside class="fixed top-0 left-0 z-30 w-64 h-screen pt-20 bg-white border-r border-gray-200 lg:block hidden" aria-label="Sidebar" id="sidebar">
   <div class="h-full pt-2 px-4 overflow-y-auto">
      <ul class="space-y-2 font-medium">
          <!-- Dashboard -->
          <li>
              {% url 'dashboard' as dashboard_url %}
              <a href="{{ dashboard_url }}" class="flex items-center p-3 rounded-lg
                  {% if request.path == dashboard_url %} bg-red-600 text-white font-semibold {% else %} text-gray-600 hover:bg-gray-200 {% endif %}">
                  <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center">
                      <svg width="24" height="24" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M18.9231 11.9231H14.3077C13.9891 11.9231 13.7308 12.1814 13.7308 12.5V19.4231C13.7308 19.7417 13.9891 20 14.3077 20H18.9231C19.2417 20 19.5 19.7417 19.5 19.4231V12.5C19.5 12.1814 19.2417 11.9231 18.9231 11.9231Z" stroke="currentColor" stroke-width="{% if request.path == dashboard_url %} 2 {% else %} 1.6 {% endif %}" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M18.9231 5H14.3077C13.9891 5 13.7308 5.2583 13.7308 5.57692V7.89615C13.7308 8.21478 13.9891 8.47308 14.3077 8.47308H18.9231C19.2417 8.47308 19.5 8.21478 19.5 7.89615V5.57692C19.5 5.2583 19.2417 5 18.9231 5Z" stroke="currentColor" stroke-width="{% if request.path == dashboard_url %} 2 {% else %} 1.6 {% endif %}" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M9.69231 5H5.07692C4.7583 5 4.5 5.2583 4.5 5.57692V12.5C4.5 12.8186 4.7583 13.0769 5.07692 13.0769H9.69231C10.0109 13.0769 10.2692 12.8186 10.2692 12.5V5.57692C10.2692 5.2583 10.0109 5 9.69231 5Z" stroke="currentColor" stroke-width="{% if request.path == dashboard_url %} 2 {% else %} 1.6 {% endif %}" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M9.69231 16.5269H5.07692C4.7583 16.5269 4.5 16.7852 4.5 17.1038V19.4231C4.5 19.7417 4.7583 20 5.07692 20H9.69231C10.0109 20 10.2692 19.7417 10.2692 19.4231V17.1038C10.2692 16.7852 10.0109 16.5269 9.69231 16.5269Z" stroke="currentColor" stroke-width="{% if request.path == dashboard_url %} 2 {% else %} 1.6 {% endif %}" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                  </span>
                  <span class="ml-3">Dashboard</span>
              </a>
         </li>

          <!-- สินค้า -->
          <li>
              {% url 'product_list' as products %}
              {% url 'product_create' as product_create %}
              <details class="group"
                  {% if request.path == products or request.path == product_create %} open {% endif %}>
                  <summary class="flex items-center p-3 text-gray-600 rounded-lg hover:bg-gray-200 cursor-pointer group-open:bg-red-600 group-open:text-white group-open:font-semibold">
                      <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center ">
                          <svg width="20" height="20" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path class="group-open:stroke-2" d="M2.5 5.50033L5 2.16699H15L17.5 5.50033M2.5 5.50033V17.167C2.5 17.609 2.67559 18.0329 2.98816 18.3455C3.30072 18.6581 3.72464 18.8337 4.16667 18.8337H15.8333C16.2754 18.8337 16.6993 18.6581 17.0118 18.3455C17.3244 18.0329 17.5 17.609 17.5 17.167V5.50033M2.5 5.50033H17.5M13.3333 8.83366C13.3333 9.71771 12.9821 10.5656 12.357 11.1907C11.7319 11.8158 10.8841 12.167 10 12.167C9.11595 12.167 8.2681 11.8158 7.64298 11.1907C7.01786 10.5656 6.66667 9.71771 6.66667 8.83366" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                      </span>
                      <span class="ml-3">สินค้า</span>
                      <svg class="ml-auto w-4 h-4 transform transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                      </svg>
                  </summary>
                  <ul class="pl-12 mt-1 space-y-1">
                      <li>
                          <a href="{{ products }}" class="block p-2 px-4 rounded-lg hover:bg-gray-200
                              {% if request.path == products %} text-gray-700 font-semibold {% else %} text-gray-600 {% endif %}">
                              รายการสินค้า
                          </a>
                      </li>
                      <li>
                          <a href="{{ product_create }}" class="block p-2 px-4 rounded-lg hover:bg-gray-200
                              {% if request.path == product_create %} text-gray-700 font-semibold {% else %} text-gray-600  {% endif %}">
                              เพิ่มสินค้า
                          </a>
                      </li>
                  </ul>
              </details>
          </li>

          <!-- คำสั่งซื้อ -->
          <li>
              {% url 'order_list' as orders %}
              <a href="{{ orders }}" class="flex items-center p-3 rounded-lg
                  {% if request.path == orders %} bg-red-600 text-white font-semibold {% else %} text-gray-600 hover:bg-gray-200 {% endif %}">
                  <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center">
                      <svg width="24" height="24" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M3 3.5H6.38321L7.58853 15.4769C7.63862 15.8071 7.80643 16.108 8.06102 16.3243C8.31561 16.5406 8.63984 16.6576 8.97395 16.6538H17.7021C18.0042 16.6696 18.3032 16.5861 18.5534 16.4161C18.8035 16.2461 18.9912 15.9989 19.0875 15.7123L20.9302 10.1738C20.999 9.96564 21.0173 9.74406 20.9836 9.52739C20.9498 9.31072 20.865 9.10517 20.7362 8.92769C20.6021 8.73894 20.4227 8.58681 20.2146 8.48522C20.0065 8.38362 19.7761 8.33581 19.5447 8.34615H6.8681M11.5619 11.1154V13.8846M15.7182 11.1154V13.8846M17.4666 21.5C17.2829 21.5 17.1067 21.4271 16.9768 21.2972C16.8469 21.1674 16.7739 20.9913 16.7739 20.8077C16.7739 20.6241 16.8469 20.448 16.9768 20.3182C17.1067 20.1883 17.2829 20.1154 17.4666 20.1154C17.6503 20.1154 17.8265 20.1883 17.9564 20.3182C18.0863 20.448 18.1593 20.6241 18.1593 20.8077C18.1593 20.9913 18.0863 21.1674 17.9564 21.2972C17.8265 21.4271 17.6503 21.5 17.4666 21.5ZM8.46134 21.5C8.27762 21.5 8.10143 21.4271 7.97152 21.2972C7.84161 21.1674 7.76863 20.9913 7.76863 20.8077C7.76863 20.6241 7.84161 20.448 7.97152 20.3182C8.10143 20.1883 8.27762 20.1154 8.46134 20.1154C8.64506 20.1154 8.82126 20.1883 8.95116 20.3182C9.08107 20.448 9.15406 20.6241 9.15406 20.8077C9.15406 20.9913 9.08107 21.1674 8.95116 21.2972C8.82126 21.4271 8.64506 21.5 8.46134 21.5Z" stroke="currentColor" stroke-width="{% if request.path == orders %} 1.8 {% else %} 1.42857 {% endif %}" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                  </span>
                  <span class="ml-3">คำสั่งซื้อ</span>
              </a>
         </li>

          <!-- บทความ -->
          <li>
              {% url 'article_list' as articles %}
              {% url 'article_create' as article_create %}
              <details class="group"
                  {% if request.path == articles or request.path == article_create %} open {% endif %}>
                  <summary class="flex items-center p-3 text-gray-600 rounded-lg hover:bg-gray-200 cursor-pointer group-open:bg-red-600 group-open:text-white group-open:font-semibold">
                      <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center ">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path class="group-open:stroke-2" d="M3.33301 16.7503C3.33301 16.1978 3.5525 15.6679 3.9432 15.2772C4.3339 14.8865 4.86381 14.667 5.41634 14.667H16.6663M3.33301 16.7503C3.33301 17.3029 3.5525 17.8328 3.9432 18.2235C4.3339 18.6142 4.86381 18.8337 5.41634 18.8337H16.6663V2.16699H5.41634C4.86381 2.16699 4.3339 2.38649 3.9432 2.77719C3.5525 3.16789 3.33301 3.69779 3.33301 4.25033V16.7503Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                      </span>
                      <span class="ml-3">บทความ</span>
                      <svg class="ml-auto w-4 h-4 transform transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                      </svg>
                  </summary>
                  <ul class="pl-12 mt-1 space-y-1">
                      <li>
                          <a href="{{ articles }}" class="block p-2 px-4 rounded-lg hover:bg-gray-200
                              {% if request.path == articles %} text-gray-700 font-semibold {% else %} text-gray-600 {% endif %}">
                              รายการบทความ
                          </a>
                      </li>
                      <li>
                          <a href="{{ article_create }}" class="block p-2 px-4 rounded-lg hover:bg-gray-200
                              {% if request.path == article_create %} text-gray-700 font-semibold {% else %} text-gray-600  {% endif %}">
                              เพิ่มบทความ
                          </a>
                      </li>
                  </ul>
              </details>
          </li>

          <!-- ออกจากระบบ -->
          <li>
            <button class="logoutBtn flex w-full items-center p-3 text-gray-600 rounded-lg hover:bg-gray-200">
                <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center">
                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M7.5 18H4.16667C3.72464 18 3.30072 17.8244 2.98816 17.5118C2.67559 17.1993 2.5 16.7754 2.5 16.3333V4.66667C2.5 4.22464 2.67559 3.80072 2.98816 3.48816C3.30072 3.17559 3.72464 3 4.16667 3H7.5M13.3333 14.6667L17.5 10.5M17.5 10.5L13.3333 6.33333M17.5 10.5H7.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
               <span class="ml-3 text-base font-medium">ออกจากระบบ</span>
            </button>
          </li>
      </ul>
   </div>
</aside>

<!-- Backdrop/Overlay สำหรับหน้าจอเล็ก -->
<div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-20"></div>

{% include 'components/alert/logout_dialog_admin.html' %}

<script src="{% static 'js/accounts/logoutDialog.js' %}"></script>

<script>
      const toggleSidebarBtn = document.getElementById('toggleSidebarBtn');
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('overlay');

      // เปิด Sidebar และ Overlay
      toggleSidebarBtn.addEventListener('click', () => {
        sidebar.classList.toggle('hidden');
        overlay.classList.toggle('hidden');
      });

      // คลิก Overlay เพื่อปิด Sidebar
      overlay.addEventListener('click', () => {
        sidebar.classList.add('hidden');
        overlay.classList.add('hidden');
      });
</script>